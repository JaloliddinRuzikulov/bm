{% extends 'base.html' %}
{% block content %}
    {% load static %}
    {% include "aside.html" %}

    <main class="main-content position-relative max-height-vh-100 h-100 border-radius-lg ">
        {% include 'navbar.html' %}
        <div class="container-fluid py-4">
            <div class="row">
                <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                    <div class="card">
                        <div class="card-header p-3 pt-2">
                            <div class="icon icon-lg icon-shape bg-gradient-dark shadow-dark text-center border-radius-xl mt-n4 position-absolute">
                                <i class="material-icons opacity-10">warehouse</i>
                            </div>
                            <div class="text-end pt-1">
                                <p class="text-xl mb-0 text-capitalize">Ombordagi mahsulotlar soni</p>
                                <h4 class="mb-0">{{ warehouse }}</h4>
                            </div>
                        </div>
                        <hr class="dark horizontal my-0">
                        <div class="card-footer p-3">
                            {% comment %} <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+55% </span>than
                        last
                        week</p> {% endcomment %}
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                    <div class="card">
                        <div class="card-header p-3 pt-2">
                            <div class="icon icon-lg icon-shape bg-gradient-primary shadow-primary text-center border-radius-xl mt-n4 position-absolute">
                                <i class="material-icons opacity-10">phonelink_ring</i>
                            </div>
                            <div class="text-end pt-1">
                                <p class="text-sm mb-0 text-capitalize">Ratsiyalar soni</p>
                                <h4 class="mb-0">{{ twoway }}</h4>
                            </div>
                        </div>
                        <hr class="dark horizontal my-0">
                        <div class="card-footer p-3">
                            {% comment %} <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+3% </span>than
                        last
                        month</p> {% endcomment %}
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6 mb-xl-0 mb-4">
                    <div class="card">
                        <div class="card-header p-3 pt-2">
                            <div class="icon icon-lg icon-shape bg-gradient-success shadow-success text-center border-radius-xl mt-n4 position-absolute">
                                <i class="material-icons opacity-10">tablet_android</i>
                            </div>
                            <div class="text-end pt-1">
                                <p class="text-sm mb-0 text-capitalize">Planshetlar soni</p>
                                <h4 class="mb-0">{{ tablet }}</h4>
                            </div>
                        </div>
                        <hr class="dark horizontal my-0">
                        <div class="card-footer p-3">
                            {% comment %} <p class="mb-0"><span class="text-danger text-sm font-weight-bolder">-2%</span>
                        than
                        yesterday</p> {% endcomment %}
                        </div>
                    </div>
                </div>
                <div class="col-xl-3 col-sm-6">
                    <div class="card">
                        <div class="card-header p-3 pt-2">
                            <div class="icon icon-lg icon-shape bg-gradient-info shadow-info text-center border-radius-xl mt-n4 position-absolute">
                                <i class="material-icons opacity-10">video_camera_front</i>
                            </div>
                            <div class="text-end pt-1">
                                <p class="text-sm mb-0 text-capitalize">Body cameralar soni</p>
                                <h4 class="mb-0">{{ bodycam }}</h4>
                            </div>
                        </div>
                        <hr class="dark horizontal my-0">
                        <div class="card-footer p-3">
                            {% comment %} <p class="mb-0"><span class="text-success text-sm font-weight-bolder">+5% </span>than
                        yesterday</p> {% endcomment %}
                        </div>
                    </div>
                </div>
            </div>

            <div class="row mt-4">
                <div class="col-lg-4 col-md-6 mt-4 mb-4">
                    <div class="card z-index-2 ">
                        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                            <div class="bg-gradient-primary shadow-primary border-radius-lg py-3 pe-1">

                                <div class="chart">
                                    <canvas id="chart-bars" class="chart-canvas" height="170"></canvas>
                                </div>
                            </div>
                        </div>

                        <div class="card-body">
                            <h6 class="mb-0 ">Rad etilgan murojaatlar soni</h6>
                            <p class="text-sm ">Bir yillikdagi barcha rad etilgan murojaatlar sonining oylik kesimidagi
                                statistikasi</p>
                            <hr class="dark horizontal">
                            {% for reject in list_rejects %}
                                <div class="alert alert-primary text-white" role="alert">

                                    <span class="alert-icon"><i class="ni ni-fat-remove "></i></span>
                                    <strong>{{ reject.user }}</strong> {{ reject.theme }}
                                    <span class="badge bg-gradient-secondary">{{ reject.open_date|date:'d-M' }}</span>
                                    <a href="{{ reject.get_absolute }}">
                                        <span class="badge bg-gradient-secondary">Xatni ko'rish</span>
                                    </a>
                                </div>
                            {% endfor %}
                        </div>
                    </div>
                </div>

                <div class="col-lg-4 col-md-6 mt-4 mb-4">
                    <div class="card z-index-2  ">
                        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                            <div class="bg-gradient-success shadow-success border-radius-lg py-3 pe-1">
                                <div class="chart">
                                    <canvas id="chart-line" class="chart-canvas" height="170"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <h6 class="mb-0 "> Bajarilgan murojaatlar soni</h6>
                            <p class="text-sm "> Bir yillikdagi barcha bajarilgan murojaatlar sonining oylik kesimidagi
                                statistikasi</p>
                            <hr class="dark horizontal">

                            {% for done in list_done %}
                                <div class="alert alert-success text-white" role="alert">

                                    <span class="alert-icon"><i class="ni ni-check-bold "></i></span>
                                    <strong>{{ done.user }}</strong> {{ done.theme }}
                                    <span class="badge bg-gradient-secondary">{{ done.open_date|date:'d-M' }}</span>
                                    <a href="{{ done.get_absolute }}">
                                        <span class="badge bg-gradient-secondary">Xatni ko'rish</span>
                                    </a>
                                </div>
                            {% endfor %}

                        </div>
                    </div>
                </div>
                <div class="col-lg-4 mt-4 mb-3">
                    <div class="card z-index-2 ">
                        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2 bg-transparent">
                            <div class="bg-gradient-dark shadow-dark border-radius-lg py-3 pe-1">
                                <div class="chart">
                                    <canvas id="chart-line-tasks" class="chart-canvas" height="170"></canvas>
                                </div>
                            </div>
                        </div>
                        <div class="card-body">
                            <h6 class="mb-0 ">Murojaatlarning umumiy statistikasi</h6>
                            <p class="text-sm ">Bir yillikdagi barcha murojaatlar soni</p>
                            <hr class="dark horizontal">

                            {% for reject in list_notdone %}
                                <div class="alert alert-dark text-white" role="alert">

                                    <span class="alert-icon"><i class="ni ni-fat-add "></i></span>
                                    <strong>{{ reject.user }}</strong> {{ reject.theme }}
                                    <span class="badge bg-gradient-secondary">{{ reject.open_date|date:'d-M' }}</span>
                                    <a href="{{ reject.get_absolute }}">
                                        <span class="badge bg-gradient-secondary">Xatni ko'rish</span>
                                    </a>
                                </div>
                            {% endfor %}

                        </div>
                    </div>
                </div>
            </div>
            <div class="row mt-1">


                <!-- Pie chart twoway -->
                <div class="col-lg-4 mb-3">
                    <div class="card h-100">
                        <div class="card-header pb-0 p-3">
                            <div class="d-flex justify-content-between">
                                <h6 class="mb-0">Ratsiya</h6>
                                <button type="button"
                                        class="btn btn-icon-only btn-rounded btn-outline-secondary mb-0 ms-2 btn-sm d-flex align-items-center justify-content-center"
                                        data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
                                        data-bs-original-title="See traffic channels">
                                    <i class="fas fa-info" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-body pb-0 p-3 mt-4">
                            <div class="row">
                                <div class="text-start">
                                    <div class="chart">
                                        <canvas id="twoway_chart" class="chart-canvas" height="200" width="500"
                                                style="display: block; box-sizing: border-box; height: 200px; width: 269.8px;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer pt-5 pb-0 p-3 d-flex align-items-center">
                            <div class="w-60">
                                <p class="text-sm">
                                    More than <b>1,200,000</b> sales are made using referral marketing, and
                                    <b>700,000</b>
                                    are from social media.
                                </p>
                            </div>
                            <div class="w-40 text-end">
                                <a class="btn bg-light mb-0 text-end" data-bs-toggle="collapse"
                                   href="#ratsiya">Ko'rish</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Pie chart twoway -->
                <!-- Pie chart twoway -->
                <div class="col-lg-4 mb-3">
                    <div class="card h-100">
                        <div class="card-header pb-0 p-3">
                            <div class="d-flex justify-content-between">
                                <h6 class="mb-0">Planshet</h6>
                                <button type="button"
                                        class="btn btn-icon-only btn-rounded btn-outline-secondary mb-0 ms-2 btn-sm d-flex align-items-center justify-content-center"
                                        data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
                                        data-bs-original-title="See traffic channels">
                                    <i class="fas fa-info" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-body pb-0 p-3 mt-4">
                            <div class="row">
                                <div class="text-start">
                                    <div class="chart">
                                        <canvas id="tablet_chart" class="chart-canvas" height="200" width="500"
                                                style="display: block; box-sizing: border-box; height: 200px; width: 269.8px;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer pt-5 pb-0 p-3 d-flex align-items-center">
                            <div class="w-60">
                                <p class="text-sm">
                                    More than <b>1,200,000</b> sales are made using referral marketing, and
                                    <b>700,000</b>
                                    are from social media.
                                </p>
                            </div>
                            <div class="w-40 text-end">
                                <a class="btn bg-light mb-0 text-end" data-bs-toggle="collapse"
                                   href="#tablet">Ko'rish</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Pie chart twoway -->

                <!-- Pie chart twoway -->
                <div class="col-lg-4 mb-3">
                    <div class="card h-100">
                        <div class="card-header pb-0 p-3">
                            <div class="d-flex justify-content-between">
                                <h6 class="mb-0">Body camera</h6>
                                <button type="button"
                                        class="btn btn-icon-only btn-rounded btn-outline-secondary mb-0 ms-2 btn-sm d-flex align-items-center justify-content-center"
                                        data-bs-toggle="tooltip" data-bs-placement="bottom" title=""
                                        data-bs-original-title="See traffic channels">
                                    <i class="fas fa-info" aria-hidden="true"></i>
                                </button>
                            </div>
                        </div>
                        <div class="card-body pb-0 p-3 mt-4">
                            <div class="row">
                                <div class="text-start">
                                    <div class="chart">
                                        <canvas id="bodycam_chart" class="chart-canvas" height="200" width="500"
                                                style="display: block; box-sizing: border-box; height: 200px; width: 269.8px;"></canvas>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer pt-5 pb-0 p-3 d-flex align-items-center">
                            <div class="w-60">
                                <p class="text-sm">
                                    More than <b>1,200,000</b> sales are made using referral marketing, and
                                    <b>700,000</b>
                                    are from social media.
                                </p>
                            </div>
                            <div class="w-40 text-end">
                                <a class="btn bg-light mb-0 text-end" data-bs-toggle="collapse"
                                   href="#bodycam">Ko'rish</a>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Pie chart twoway -->
            </div>

            <div class="row mb-4">
                <div class="col-lg-8 col-md-6 mb-md-0 mb-4">
                    <div class="card">
                        <div class="card-header pb-0">
                            <div class="row">
                                <div class="col-lg-6 col-7">
                                    <h6>So'ngi tadbirlar</h6>
                                    <p class="text-sm mb-0">
                                        <i class="fa fa-plus-circle text-info" aria-hidden="true"></i>
                                        Ohirgi <span class="font-weight-bold ms-1">10</span> tasi
                                    </p>
                                </div>

                            </div>
                        </div>
                        <div class="card-body px-0 pb-2">
                            <div class="table-responsive">
                                <table class="table align-items-center mb-0">
                                    <thead>
                                    <tr>
                                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                            Tadbir nomi
                                        </th>
                                        <th class="text-uppercase text-secondary text-xxs font-weight-bolder opacity-7 ps-2">
                                            Ma'sul shaxs
                                        </th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                            Chiqarilganlar soni
                                        </th>
                                        <th class="text-center text-uppercase text-secondary text-xxs font-weight-bolder opacity-7">
                                            Tadbirning Sanasi
                                        </th>
                                    </tr>
                                    </thead>
                                    <tbody>
                                    {% for events in last_events %}
                                        {% for event in events %}
                                            <tr>
                                                <td>
                                                    <div class="d-flex px-2 py-1">
                                                        <div>
                                                            {% if forloop.parentloop.counter0 == 0 %}
                                                                <img src="{% static 'assets/img/small-logos/walkie-talkie.svg' %}"
                                                                     class="avatar avatar-sm me-3" alt="jira"
                                                                     data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                                     title="Ratsiya tadbiri">
                                                            {% elif forloop.parentloop.counter0 == 1 %}
                                                                <img src="{% static 'assets/img/small-logos/tablet.svg' %}"
                                                                     class="avatar avatar-sm me-3" alt="jira"
                                                                     data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                                     title="Planshet tadbiri">
                                                            {% elif forloop.parentloop.counter0 == 2 %}
                                                                <img src="{% static 'assets/img/small-logos/bodycam.svg' %}"
                                                                     class="avatar avatar-sm me-3" alt="jira"
                                                                     data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                                     title="Body camera tadbiri">
                                                            {% endif %}
                                                        </div>
                                                        <div class=" d-flex flex-column justify-content-center">
                                                            <h6 class="mb-0 text-sm">{{ event.name }}</h6>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td>
                                                    <div class="avatar-group mt-2">
                                                        <a href="javascript:" class="avatar avatar-xs rounded-circle"
                                                           data-bs-toggle="tooltip" data-bs-placement="bottom"
                                                           title="{{ event.opener }}">
                                                            <img src="{% static 'assets/img/team-4.jpg' %}" alt="user5">
                                                        </a>
                                                    </div>
                                                </td>
                                                <td class=" align-middle text-center text-sm">
                                                    <span class="text-xs font-weight-bold"> 500 </span>
                                                </td>
                                                <td class=" align-middle text-center text-sm">
                                                    <span class="badge rounded-pill bg-success text-xxs ml-2 font-weight-bold">{{ event.pub_date|date:'d-M Y' }}</span>
                                                </td>
                                            </tr>
                                        {% endfor %}
                                    {% endfor %}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="card h-100">
                        <div class="card-header pb-0">
                            <h6>So'ngi harakatlar</h6>
                            <p class="text-sm">
                                <i class="fa fa-arrow-up text-success" aria-hidden="true"></i>
                                <span class="font-weight-bold">Ma'sul shaxslarning</span> platformadagi harakatlari</p>
                        </div>
                        <div class="card-body p-3">
                            <div class="timeline timeline-one-side">
                                {% for liable in liables %}
                                    {% for liab in liable %}
                                        <div class="timeline-block mb-3">
                                    <span class="timeline-step">
                                      <i class="material-icons text-danger text-gradient">code</i>
                                    </span>
                                            <div class="timeline-content">
                                                <h6 class="text-dark text-sm font-weight-bold mb-0">{{ liab.full_name }}
                                                    #Q231W23
                                                    {% if forloop.parentloop.counter0 == 0 %}
                                                        ratsiyaga
                                                    {% elif forloop.parentloop.counter0 == 1 %}
                                                        planshetga
                                                    {% elif forloop.parentloop.counter0 == 2 %}
                                                        Body cameraga
                                                    {% endif %} biriktirildi</h6>
                                                <p class="text-secondary font-weight-bold text-xs mt-1 mb-0">{{ liab.created_date }}
                                                    PM</p>
                                            </div>
                                        </div>
                                    {% endfor %}
                                {% endfor %}

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </main>


    <!--   Core JS Files   -->
    <script src="{% static 'assets/js/core/popper.min.js' %}"></script>
    <script src="{% static 'assets/js/core/bootstrap.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/perfect-scrollbar.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/smooth-scrollbar.min.js' %}"></script>
    <script src="{% static 'assets/js/plugins/chartjs.min.js' %}"></script>
    <script>
        var dynamicColors = function () {
            var r = Math.floor(Math.random() * 255);
            var g = Math.floor(Math.random() * 255);
            var b = Math.floor(Math.random() * 255);
            return "rgb(" + r + "," + g + "," + b + ")";
        };

        var ctx = document.getElementById("chart-bars").getContext("2d");

        new Chart(ctx, {
            type: "bar",
            data: {
                labels: ["Yan", "Fev", "Mar", "Apr", "May", "Iyun", "Iyul", "Avg", "Sent", "Okt", "Noy", "Dek"],
                datasets: [{
                    label: "Rad etilganlar",
                    tension: 0.4,
                    borderWidth: 0,
                    borderRadius: 4,
                    borderSkipped: false,
                    backgroundColor: "rgba(255, 255, 255, .8)",
                    data: {{ status_rejects }},
                    maxBarThickness: 6
                },],
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false,
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index',
                },
                scales: {
                    y: {
                        grid: {
                            drawBorder: false,
                            display: true,
                            drawOnChartArea: true,
                            drawTicks: false,
                            borderDash: [5, 5],
                            color: 'rgba(255, 255, 255, .2)'
                        },
                        ticks: {
                            suggestedMin: 0,
                            suggestedMax: 500,
                            beginAtZero: true,
                            padding: 10,
                            font: {
                                size: 14,
                                weight: 300,
                                family: "Roboto",
                                style: 'normal',
                                lineHeight: 2
                            },
                            color: "#fff"
                        },
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: true,
                            drawOnChartArea: true,
                            drawTicks: false,
                            borderDash: [5, 5],
                            color: 'rgba(255, 255, 255, .2)'
                        },
                        ticks: {
                            display: true,
                            color: '#f8f9fa',
                            padding: 10,
                            font: {
                                size: 14,
                                weight: 300,
                                family: "Roboto",
                                style: 'normal',
                                lineHeight: 2
                            },
                        }
                    },
                },
            },
        });


        var ctx2 = document.getElementById("chart-line").getContext("2d");

        new Chart(ctx2, {
            type: "bar",
            data: {
                labels: ["Yan", "Fev", "Mar", "Apr", "May", "Iyun", "Iyul", "Avg", "Sent", "Okt", "Noy", "Dek"],

                datasets: [{
                    label: "Bajarilganlar",
                    tension: 0.4,
                    borderWidth: 0,
                    borderRadius: 4,
                    borderSkipped: false,
                    backgroundColor: "rgba(255, 255, 255, .8)",
                    data: {{ status_done }},
                    maxBarThickness: 6
                },],
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false,
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index',
                },
                scales: {
                    y: {
                        grid: {
                            drawBorder: false,
                            display: true,
                            drawOnChartArea: true,
                            drawTicks: false,
                            borderDash: [5, 5],
                            color: 'rgba(255, 255, 255, .2)'
                        },
                        ticks: {
                            suggestedMin: 0,
                            suggestedMax: 500,
                            beginAtZero: true,
                            padding: 10,
                            font: {
                                size: 14,
                                weight: 300,
                                family: "Roboto",
                                style: 'normal',
                                lineHeight: 2
                            },
                            color: "#fff"
                        },
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: true,
                            drawOnChartArea: true,
                            drawTicks: false,
                            borderDash: [5, 5],
                            color: 'rgba(255, 255, 255, .2)'
                        },
                        ticks: {
                            display: true,
                            color: '#f8f9fa',
                            padding: 10,
                            font: {
                                size: 14,
                                weight: 300,
                                family: "Roboto",
                                style: 'normal',
                                lineHeight: 2
                            },
                        }
                    },
                },
            },
        });

        var ctx3 = document.getElementById("chart-line-tasks").getContext("2d");

        new Chart(ctx3, {
            type: "line",
            data: {
                labels: ["Yan", "Fev", "Mar", "Apr", "May", "Iyun", "Iyul", "Avg", "Sent", "Okt", "Noy", "Dek"],
                datasets: [{
                    label: "Bajarilmaganlar",
                    tension: 0,
                    borderWidth: 0,
                    pointRadius: 5,
                    pointBackgroundColor: "rgba(255, 255, 255, .8)",
                    pointBorderColor: "transparent",
                    borderColor: "rgba(255, 255, 255, .8)",
                    borderWidth: 4,
                    backgroundColor: "transparent",
                    fill: true,
                    data: {{ status_notdone }},
                    maxBarThickness: 6

                }],
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        display: false,
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index',
                },
                scales: {
                    y: {
                        grid: {
                            drawBorder: false,
                            display: true,
                            drawOnChartArea: true,
                            drawTicks: false,
                            borderDash: [5, 5],
                            color: 'rgba(255, 255, 255, .2)'
                        },
                        ticks: {
                            display: true,
                            padding: 10,
                            color: '#f8f9fa',
                            font: {
                                size: 14,
                                weight: 300,
                                family: "Roboto",
                                style: 'normal',
                                lineHeight: 2
                            },
                        }
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: false,
                            drawOnChartArea: false,
                            drawTicks: false,
                            borderDash: [5, 5]
                        },
                        ticks: {
                            display: true,
                            color: '#f8f9fa',
                            padding: 10,
                            font: {
                                size: 14,
                                weight: 300,
                                family: "Roboto",
                                style: 'normal',
                                lineHeight: 2
                            },
                        }
                    },
                },
            },
        });

        // Pie chart twoway_chart
        var twoway_chart = document.getElementById("twoway_chart").getContext("2d");
        new Chart(twoway_chart, {
            type: "pie",
            data: {
                labels: {{ twoway_labels| safe }},
                datasets: [{
                    label: "Projects",
                    weight: 9,
                    cutout: 0,
                    tension: 0.9,
                    pointRadius: 2,
                    borderWidth: 2,
                    backgroundColor: ['#17c1e8', '#5e72e4', '#3A416F', '#a8b8d8'],
                    data: {{ twoway_data }},
                    fill: false
                }],
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        horizontalAlign: 'left',
                        offsetY: 40,
                        display: true,
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index',
                },
                scales: {
                    y: {
                        grid: {
                            drawBorder: false,
                            display: false,
                            drawOnChartArea: false,
                            drawTicks: false,
                        },
                        ticks: {
                            display: false
                        }
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: false,
                            drawOnChartArea: false,
                            drawTicks: false,
                        },
                        ticks: {
                            display: false,
                        }
                    },
                },
            },
        });

        // Pie chart bodycam_chart
        var bodycam_chart = document.getElementById("bodycam_chart").getContext("2d");
        new Chart(bodycam_chart, {
            type: "pie",
            data: {
                labels: {{ bodycam_labels| safe }},
                datasets: [{
                    label: "Projects",
                    weight: 9,
                    cutout: 0,
                    tension: 0.9,
                    pointRadius: 2,
                    borderWidth: 2,
                    backgroundColor: ['#17c1e8', '#5e72e4', '#3A416F', '#a8b8d8'],
                    data: {{ bodycam_data }},
                    fill: false
                }],
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        horizontalAlign: 'left',
                        offsetY: 40,
                        display: true,
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index',
                },
                scales: {
                    y: {
                        grid: {
                            drawBorder: false,
                            display: false,
                            drawOnChartArea: false,
                            drawTicks: false,
                        },
                        ticks: {
                            display: false
                        }
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: false,
                            drawOnChartArea: false,
                            drawTicks: false,
                        },
                        ticks: {
                            display: false,
                        }
                    },
                },
            },
        });
        // Pie chart tablet_chart
        var tablet_chart = document.getElementById("tablet_chart").getContext("2d");
        new Chart(tablet_chart, {
            type: "pie",
            data: {
                labels: {{ tablet_labels| safe }},
                datasets: [{
                    label: "Projects",
                    weight: 9,
                    cutout: 0,
                    tension: 0.9,
                    pointRadius: 2,
                    borderWidth: 2,
                    backgroundColor: ['#17c1e8', '#5e72e4', '#3A416F', '#a8b8d8'],
                    data: {{ tablet_data }},
                    fill: false
                }],
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: {
                        position: 'right',
                        horizontalAlign: 'left',
                        offsetY: 40,
                        display: true,
                    }
                },
                interaction: {
                    intersect: false,
                    mode: 'index',
                },
                scales: {
                    y: {
                        grid: {
                            drawBorder: false,
                            display: false,
                            drawOnChartArea: false,
                            drawTicks: false,
                        },
                        ticks: {
                            display: false
                        }
                    },
                    x: {
                        grid: {
                            drawBorder: false,
                            display: false,
                            drawOnChartArea: false,
                            drawTicks: false,
                        },
                        ticks: {
                            display: false,
                        }
                    },
                },
            },
        });


    </script>
{% endblock content %}